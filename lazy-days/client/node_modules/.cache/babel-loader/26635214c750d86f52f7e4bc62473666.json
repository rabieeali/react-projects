{"ast":null,"code":"import { useRef } from 'react';\nimport { pipe } from 'popmotion';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a, visualElement) {\n  var onTap = _a.onTap,\n    onTapStart = _a.onTapStart,\n    onTapCancel = _a.onTapCancel,\n    whileTap = _a.whileTap;\n  var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n  var isPressing = useRef(false);\n  var cancelPointerEndListeners = useRef(null);\n  function removePointerEndListener() {\n    var _a;\n    (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n    cancelPointerEndListeners.current = null;\n  }\n  function checkPointerEnd() {\n    var _a;\n    removePointerEndListener();\n    isPressing.current = false;\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n    return !isDragActive();\n  }\n  function onPointerUp(event, info) {\n    if (!checkPointerEnd()) return;\n    /**\n     * We only count this as a tap gesture if the event.target is the same\n     * as, or a child of, this component's element\n     */\n    !isNodeOrChild(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n  }\n  function onPointerCancel(event, info) {\n    if (!checkPointerEnd()) return;\n    onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n  }\n  function onPointerDown(event, info) {\n    var _a;\n    removePointerEndListener();\n    if (isPressing.current) return;\n    isPressing.current = true;\n    cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n    onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n  }\n  usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n  useUnmountEffect(removePointerEndListener);\n}\nexport { useTapGesture };","map":{"version":3,"names":["useRef","pipe","usePointerEvent","addPointerEvent","isDragActive","AnimationType","useUnmountEffect","isNodeOrChild","useTapGesture","_a","visualElement","onTap","onTapStart","onTapCancel","whileTap","hasPressListeners","isPressing","cancelPointerEndListeners","removePointerEndListener","current","call","checkPointerEnd","animationState","setActive","Tap","onPointerUp","event","info","getInstance","target","onPointerCancel","onPointerDown","window","undefined"],"sources":["/home/pc/Desktop/react-projects/react-projects/lazy-days/client/node_modules/framer-motion/dist/es/gestures/use-tap-gesture.js"],"sourcesContent":["import { useRef } from 'react';\nimport { pipe } from 'popmotion';\nimport { usePointerEvent, addPointerEvent } from '../events/use-pointer-event.js';\nimport { isDragActive } from './drag/utils/lock.js';\nimport { AnimationType } from '../render/utils/types.js';\nimport { useUnmountEffect } from '../utils/use-unmount-effect.js';\nimport { isNodeOrChild } from './utils/is-node-or-child.js';\n\n/**\n * @param handlers -\n * @internal\n */\nfunction useTapGesture(_a, visualElement) {\n    var onTap = _a.onTap, onTapStart = _a.onTapStart, onTapCancel = _a.onTapCancel, whileTap = _a.whileTap;\n    var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = useRef(false);\n    var cancelPointerEndListeners = useRef(null);\n    function removePointerEndListener() {\n        var _a;\n        (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n        cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n        var _a;\n        removePointerEndListener();\n        isPressing.current = false;\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, false);\n        return !isDragActive();\n    }\n    function onPointerUp(event, info) {\n        if (!checkPointerEnd())\n            return;\n        /**\n         * We only count this as a tap gesture if the event.target is the same\n         * as, or a child of, this component's element\n         */\n        !isNodeOrChild(visualElement.getInstance(), event.target)\n            ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n        if (!checkPointerEnd())\n            return;\n        onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    function onPointerDown(event, info) {\n        var _a;\n        removePointerEndListener();\n        if (isPressing.current)\n            return;\n        isPressing.current = true;\n        cancelPointerEndListeners.current = pipe(addPointerEvent(window, \"pointerup\", onPointerUp), addPointerEvent(window, \"pointercancel\", onPointerCancel));\n        onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n        (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(AnimationType.Tap, true);\n    }\n    usePointerEvent(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined);\n    useUnmountEffect(removePointerEndListener);\n}\n\nexport { useTapGesture };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}